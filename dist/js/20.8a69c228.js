webpackJsonp([20],{1097:function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=i(82),n=a(o),d=i(128),r=a(d),s=i(81),l=a(s),c=i(184),p=i(527),f=a(p),u=i(533),m=a(u),h=i(522),v=a(h),b=i(123),g=i(124),x=(a(g),i(185));a(x);t.default={components:{myhead:f.default,modalDialog:m.default,loading:v.default},data:function(){return{header:{name:"价格设置",link:"/prd/create"},paraData:{},isToggle:!1,loading:!1,loadError:"",statusBarH:"",bottomBarH:"",headerTxt:"添加新地址",specs:[],priceSet:{def_price:"",subIndex:0,curIndex:0,price:[]},curType:0}},computed:(0,l.default)({},(0,b.mapState)(["UID","TOKEN","PROFILE","STATUSBARH","CART"])),created:function(){this.TOKEN&&(this.token=this.TOKEN,this.paraData.uid=this.UID,this.profile=this.PROFILE),this.$route.query.id&&(this.header.link="/prd/create?id="+this.$route.query.id),this.specs=c.html.objClone(this.CART.specs),this.priceSet=c.html.objClone(this.CART.priceSet)},mounted:function(){dplus.track("编辑收货地址",{from:c.html.useragent()})},methods:(0,l.default)({},(0,b.mapActions)(["switchState"]),{goto:function(e){if(0==this.priceSet.curIndex){if(!this.priceSet.def_price)return void this.initMSG("请设置定价");this.priceSet.price=[],this.subIndex=0,this.priceSet.spec_name="*"}else{if(!this.specs.length)return void this.initMSG("请先设置规格");for(var t=(0,r.default)(this.specs[this.priceSet.subIndex]),i=this.specs[this.priceSet.subIndex][t],a=[],o={},d=0;d<i.length;d++){if(""==this.priceSet.price[d])return void this.initMSG("请设置定价");a.push(this.priceSet.price[d]),o[i[d]]=this.priceSet.price[d]}this.priceSet.price=a,this.priceSet.def_price="",this.priceSet.spec_name=t[0],this.priceSet.list=o}this.switchState({CART:(0,n.default)(this.CART,{priceSet:this.priceSet})}),this.$router.push(e)},changeType:function(e){if(this.priceSet.subIndex!=e){for(var t=0;t<this.priceSet.price.length;t++)if(""!=this.priceSet.price[t])return this.isToggle=!0,void(this.curType=e);this.priceSet.subIndex=e}},changeSubmit:function(){this.isToggle=!1,this.priceSet.subIndex=this.curType},closeDialog:function(e){this[e]=!1},initMSG:function(e){var t=this;this.loading=!0,this.loadError=e,setTimeout(function(){t.loading=!1,t.loadError=""},2e3)}})}},1134:function(e,t,i){t=e.exports=i(473)(!1),t.push([e.i,".method1[data-v-64ac9925]{padding:.533333rem .4rem;line-height:.64rem;border-bottom:.2rem solid #ebebeb}.special[data-v-64ac9925]{border-bottom:none}.method1 dl[data-v-64ac9925]{-ms-flex-align:start;align-items:flex-start}.method1 dt[data-v-64ac9925]{width:.8rem}.method1 dd input[data-v-64ac9925]{display:inline-block;width:50%;height:.733333rem;line-height:.426667rem;padding:.133333rem .2rem;border-radius:.133333rem;position:relative;border:1px solid #adadad!important;background:#fff;margin-right:.2rem}.method1 p[data-v-64ac9925],.method2 p[data-v-64ac9925]{padding-top:.266667rem}.myDetail dl[data-v-64ac9925]{padding-bottom:.4rem}.mask[data-v-64ac9925]{position:absolute;top:0;left:0;width:100%;height:100%}.method2[data-v-64ac9925]{margin:0 1.2rem}.method2 ul[data-v-64ac9925]{border-bottom:1px solid #f1f1f1}.method2 ul li[data-v-64ac9925]{padding-bottom:.4rem}.method2 dl[data-v-64ac9925]{line-height:.933333rem;padding-top:.2rem}.method2 dl span[data-v-64ac9925]{padding:0 .333333rem;min-width:1.333333rem;line-height:.733333rem;text-align:center}.method2 dd input[data-v-64ac9925],.method2 dl span[data-v-64ac9925]{border-radius:.133333rem;border:1px solid #adadad!important;display:inline-block;height:.733333rem}.method2 dd input[data-v-64ac9925]{width:2rem;line-height:.426667rem;padding:.133333rem .2rem;background:#fff;margin:0 .133333rem}.footer[data-v-64ac9925]{width:100%;padding:.4rem}.footer p[data-v-64ac9925]{width:100%}",""])},1176:function(e,t,i){var a=i(1134);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(474)("cfd94278",a,!0,{})},1244:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Layout",[i("myhead",{attrs:{slot:"header",hval:e.header},slot:"header"}),i("div",{staticClass:"method1"},[i("dl",{staticClass:"flexBox blackCR"},[i("dt",{on:{click:function(t){t.preventDefault(),e.priceSet.curIndex=0}}},[i("i",{class:["iconfont f30",{"icon-danxuankuang":0!=e.priceSet.curIndex},{"greenCR icon-danxuankuang1":0==e.priceSet.curIndex}]})]),i("dd",{staticClass:"flex1 "},[i("div",{staticClass:"f30",on:{click:function(t){t.preventDefault(),e.priceSet.curIndex=0}}},[e._v("\n          方式一：统一定价\n        ")]),i("p",{staticClass:"posiR"},[0==e.priceSet.curIndex?i("input",{directives:[{name:"model",rawName:"v-model",value:e.priceSet.def_price,expression:"priceSet.def_price"}],attrs:{type:"number"},domProps:{value:e.priceSet.def_price},on:{input:function(t){t.target.composing||e.$set(e.priceSet,"def_price",t.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.priceSet.def_price,expression:"priceSet.def_price"}],attrs:{type:"number",disabled:"disabled"},domProps:{value:e.priceSet.def_price},on:{input:function(t){t.target.composing||e.$set(e.priceSet,"def_price",t.target.value)}}}),e._v("\n          元\n          "),1==e.priceSet.curIndex?i("span",{staticClass:"mask"}):e._e()])])])]),i("div",{staticClass:"method1 special"},[i("dl",{staticClass:"flexBox f30 blackCR",on:{click:function(t){t.preventDefault(),e.priceSet.curIndex=1}}},[i("dt",{},[i("i",{class:["iconfont f30",{"icon-danxuankuang":1!=e.priceSet.curIndex},{"greenCR icon-danxuankuang1":1==e.priceSet.curIndex}]})]),i("dd",{staticClass:"flex1"},[e._v("\n        方式二：按规格定价\n      ")])])]),i("div",{staticClass:"method2"},[i("ul",{staticClass:"flexBox1 tC blackCR"},[e._l(e.specs,function(t,a){return e._l(t,function(t,o){return i("li",{class:{"current greenCR":e.priceSet.subIndex==a},on:{click:function(t){t.preventDefault(),e.changeType(a)}}},[e._v(e._s(o))])})})],2),e.specs.length?e._e():i("p",[e._v("请先设置规格")]),e.specs[e.priceSet.subIndex]?[e._l(e.specs[e.priceSet.subIndex],function(t,a){return e._l(t,function(t,a){return i("dl",{staticClass:"flexBox"},[i("dt",{staticClass:"flex1"},[i("span",[e._v(e._s(t))])]),i("dd",[e._v("\n            售价 "),1==e.priceSet.curIndex?i("input",{directives:[{name:"model",rawName:"v-model",value:e.priceSet.price[a],expression:"priceSet.price[index]"}],attrs:{type:"number",name:""},domProps:{value:e.priceSet.price[a]},on:{input:function(t){t.target.composing||e.$set(e.priceSet.price,a,t.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.priceSet.price[a],expression:"priceSet.price[index]"}],attrs:{type:"number",disabled:"disabled",name:""},domProps:{value:e.priceSet.price[a]},on:{input:function(t){t.target.composing||e.$set(e.priceSet.price,a,t.target.value)}}}),e._v(" 元\n          ")])])})})]:e._e()],2),i("div",{style:e.statusBarH,attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"footer tC f30"},[i("p",{staticClass:"btn btn-green",on:{click:function(t){t.preventDefault(),e.goto(e.header.link)}}},[e._v("确定")])]),i("loading",{attrs:{loading:e.loading,loadError:e.loadError},on:{closePop:function(t){e.closeDialog("loading")}}}),i("modal-dialog",{attrs:{dialogshow2:e.isToggle,fail:!0},on:{"update:dialogshow2":function(t){e.isToggle=t},hide:function(t){e.closeDialog("isToggle")}}},[i("div",{staticClass:"inputSet f30 tC",attrs:{slot:"dialog-body"},slot:"dialog-body"},[e._v("\n        只能按一种规格定价，您确定要更换吗？\n      ")]),i("dl",{staticClass:"dialog-footer",attrs:{slot:"dialog-footer"},slot:"dialog-footer"},[i("dd",{on:{touchend:function(t){t.preventDefault(),e.closeDialog("isToggle")}}},[i("button",{staticClass:"btn btn-green",attrs:{type:"button"}},[e._v("取消")])]),i("dd",{on:{touchend:function(t){t.preventDefault(),e.changeSubmit(t)}}},[i("button",{staticClass:"btn btn-green",attrs:{type:"button"}},[e._v("确定")])])])])],1)],1)},staticRenderFns:[]}},498:function(e,t,i){function a(e){i(1176)}var o=i(122)(i(1097),i(1244),a,"data-v-64ac9925",null);e.exports=o.exports},518:function(e,t,i){"use strict";t.__esModule=!0,t.default={props:{loading:"",loadError:""},mounted:function(){},methods:{closeLoading:function(){this.loadError&&this.$emit("closePop")}}}},519:function(e,t,i){t=e.exports=i(473)(!1),t.push([e.i,".newLoad[data-v-b60b2388]{position:fixed;z-index:9999;left:0;bottom:0;top:0;right:0;text-align:center;display:table;height:100%;width:100%}.newLoad>div[data-v-b60b2388]{display:table-cell;vertical-align:middle}.newLoad dl[data-v-b60b2388]{background:rgba(0,0,0,.9);border-radius:.106667rem;min-width:1.6rem;font-size:.32rem;display:inline-block;color:#d3d3d3}.newLoad dl dd[data-v-b60b2388]{padding:0 .2rem;line-height:1.333333rem}.newLoad dl dt[data-v-b60b2388]{padding:.666667rem 0 0;overflow:hidden}.loader[data-v-b60b2388]{padding:0 0 0 .666667rem;height:.933333rem}.ball-spin-fade-loader[data-v-b60b2388]{position:relative}.ball-spin-fade-loader>div[data-v-b60b2388]:first-child{top:.333333rem;left:0;animation:ball-spin-fade-loader-data-v-b60b2388 1s 0s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]:nth-child(2){top:.227273rem;left:.227273rem;animation:ball-spin-fade-loader-data-v-b60b2388 1s .12s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]:nth-child(3){top:0;left:.333333rem;animation:ball-spin-fade-loader-data-v-b60b2388 1s .24s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]:nth-child(4){top:-.227273rem;left:.227273rem;animation:ball-spin-fade-loader-data-v-b60b2388 1s .36s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]:nth-child(5){top:-.333333rem;left:0;animation:ball-spin-fade-loader-data-v-b60b2388 1s .48s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]:nth-child(6){top:-.227273rem;left:-.227273rem;animation:ball-spin-fade-loader-data-v-b60b2388 1s .6s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]:nth-child(7){top:0;left:-.333333rem;animation:ball-spin-fade-loader-data-v-b60b2388 1s .72s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]:nth-child(8){top:.227273rem;left:-.227273rem;animation:ball-spin-fade-loader-data-v-b60b2388 1s .84s infinite linear}.ball-spin-fade-loader>div[data-v-b60b2388]{background-color:#fff;width:.2rem;height:.2rem;border-radius:100%;margin:.026667rem;animation-fill-mode:both;position:absolute}@keyframes ball-spin-fade-loader-data-v-b60b2388{50%{opacity:.3;transform:scale(.4)}to{opacity:1;transform:scale(1)}}",""])},521:function(e,t,i){var a=i(519);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(474)("ae8afd90",a,!0,{})},522:function(e,t,i){function a(e){i(521)}var o=i(122)(i(518),i(523),a,"data-v-b60b2388",null);e.exports=o.exports},523:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.loading?i("div",{staticClass:"newLoad animated2dot zoomIn"},[i("div",{on:{touchend:function(t){t.preventDefault(),e.closeLoading(t)}}},[i("dl",[e.loadError?i("dd",[e._v(e._s(e.loadError))]):i("dt",[e._m(0)])])])]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"loader"},[i("div",{staticClass:"loader-inner ball-spin-fade-loader"},[i("div"),i("div"),i("div"),i("div"),i("div"),i("div"),i("div"),i("div")])])}]}},524:function(e,t,i){"use strict";t.__esModule=!0;var a=i(81),o=function(e){return e&&e.__esModule?e:{default:e}}(a),n=i(184),d=i(123);t.default={props:{hval:{}},mounted:function(){},created:function(){var e=this;n.html.isWawaAndroid()&&webBridgeAndroid.registerHandler("onBack",function(t,i){e.goback()})},computed:(0,o.default)({},(0,d.mapState)(["STATUSBARH","BOTTOMBARH"]),{isApp:function(){if(n.html.isWawa())return{"padding-top":this.STATUSBARH+"px"}}}),methods:{goback:function(){this.hval.popTips?this.$emit("popshow"):(this.$router.isBack=!0,this.hval.link?this.$router.replace(this.hval.link):window.history.go(-1))},goto:function(){this.hval.subFunc||this.hval.share?this.$emit("popshow"):this.$router.replace(this.hval.sublink)}}}},525:function(e,t,i){t=e.exports=i(473)(!1),t.push([e.i,".my-header[data-v-a5c1fd86]{background:#37363b;color:#fff;font-size:.48rem;text-align:center;position:relative}.my-header ul[data-v-a5c1fd86]{width:100%;display:-ms-flexbox;display:flex;height:1.466667rem;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;padding:0 .4rem 0 0;color:#fff}.my-header ul li.midli[data-v-a5c1fd86]{-ms-flex:1;flex:1;width:0;position:relative;text-align:center;padding-right:.666667rem;font-size:.48rem}.my-header .midli a[data-v-a5c1fd86]{position:absolute;right:0;padding:.04rem 0 .106667rem .133333rem}.my-header ul li.midli span[data-v-a5c1fd86]{position:relative;top:.026667rem}.my-header ul li.special[data-v-a5c1fd86]{padding-left:.4rem}.my-header ul li.special.opacity[data-v-a5c1fd86]{opacity:0}.my-header ul li>[data-v-a5c1fd86]{touch-callout:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.icon-add[data-v-a5c1fd86]{margin-right:.066667rem}.noBg[data-v-a5c1fd86]{background:none}.opacity0[data-v-a5c1fd86]{opacity:0}",""])},526:function(e,t,i){var a=i(525);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(474)("504d8d1d",a,!0,{})},527:function(e,t,i){function a(e){i(526)}var o=i(122)(i(524),i(528),a,"data-v-a5c1fd86",null);e.exports=o.exports},528:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["my-header",{noBg:e.hval.isNobg}],style:e.isApp},[i("ul",[e.hval.noBack?i("li",{staticClass:"special opacity"},[i("i",{staticClass:"iconfont icon-fanhui f36"})]):i("li",{staticClass:"special",on:{click:function(t){t.preventDefault(),e.goback(t)}}},[i("i",{staticClass:"iconfont icon-fanhui f36"})]),i("li",{staticClass:"midli"},[e.hval.subname?i("a",{staticClass:"f30 whiteCR",attrs:{href:"javascript:;"},on:{click:function(t){t.preventDefault(),e.goto(t)}}},[e.hval.share?i("i",{staticClass:"iconfont icon-zhuanfa f36 whiteCR"}):i("span",[i("i",{staticClass:"iconfont icon-add"}),e._v(e._s(e.hval.subname))])]):e._e(),i("span",{class:{opacity0:e.hval.opacity}},[e._v("\n          "+e._s(e.hval.name)+"\n        ")])])])])},staticRenderFns:[]}},533:function(e,t,i){function a(e){i(536)}var o=i(122)(i(534),i(537),a,"data-v-369b7310",null);e.exports=o.exports},534:function(e,t,i){"use strict";t.__esModule=!0,t.default={props:["dialogshow2","closeShow","noClickBg"],computed:{isActive:function(){return this.dialogshow2},dialogClose:function(){return!this.closeShow||this.closeShow}},methods:{closeDefault:function(e){this.noClickBg||this.$emit("hide")},close:function(e){this.$emit("hide")}}}},535:function(e,t,i){t=e.exports=i(473)(!1),t.push([e.i,'.footerP[data-v-369b7310]{text-align:right;padding:0 1.066667rem .4rem;font-size:.186667rem}#dialog-template[data-v-369b7310]{display:none}.dialogMask[data-v-369b7310]{position:fixed;background:rgba(0,0,0,.5);top:0;left:0;right:0;bottom:0;z-index:53}.dialogs[data-v-369b7310]{display:table;content:"";position:absolute;visibility:hidden;top:0;left:0;right:0;bottom:0;z-index:55;margin:auto;width:100%}.dialog[data-v-369b7310]{display:table-cell;vertical-align:middle;perspective:6.666667rem;position:relative;z-index:54}.dialog-active[data-v-369b7310]{visibility:visible}.dialog-active .dialog-content[data-v-369b7310]{opacity:1;position:relative;transform:rotateY(0)}.dialog-active~.dialog-overlay[data-v-369b7310]{opacity:1;visibility:visible}.dialog-content[data-v-369b7310]{border-radius:.266667rem;margin:0 auto;background:#fff;background-size:100%;width:90%;height:auto;padding:.666667rem .4rem;opacity:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.diaplg-border[data-v-369b7310]{width:100%;color:#000;line-height:.533333rem}.dialog-header[data-v-369b7310]{font-size:.4rem;border-bottom:1px solid silver;padding-bottom:.266667rem;margin-bottom:.266667rem;text-align:center;position:relative;z-index:2}.dialog-title[data-v-369b7310]{padding:.8rem 0 .333333rem;text-align:center;color:#fff}.dialog-body[data-v-369b7310]{padding:2em}.dialog-body .error[data-v-369b7310]{font-size:1.2em;color:salmon}.dialog-footer[data-v-369b7310]{padding:.533333rem 0 0;display:-ms-flexbox;display:flex;width:100%}.dialog-footer dd[data-v-369b7310]{-ms-flex:1;flex:1;width:0;text-align:center;font-size:.4rem;padding:.066667rem;position:relative}.dialog-footer dd[data-v-369b7310]:last-child:before{border-left:1px solid #dedede;position:absolute;left:0;top:0;bottom:0;width:.013333rem}.dialog-footer dd button[data-v-369b7310]{width:90%;height:.933333rem;line-height:.933333rem;color:#fff;font-size:.32rem}.dialog-overlay[data-v-369b7310]{content:"";position:fixed;visibility:hidden;top:0;left:0;right:0;bottom:0;z-index:5;opacity:0;background:rgba(0,0,0,.7);transition:all .6s}.close[data-v-369b7310]{display:inline-block;position:absolute;top:.133333rem;right:.133333rem;color:#333;text-decoration:none;box-sizing:border-box;-webkit-box-sizing:border-box;z-index:10}.close .iconfont[data-v-369b7310]{font-size:.533333rem}.rotate[data-v-369b7310]{cursor:pointer}.rotate[data-v-369b7310]:hover{transform:rotate(1turn);-moz-transform:rotate(1turn);-webkit-transform:rotate(1turn);transition:transform all 1s ease;-moz-transition:-moz-transform 1s ease all;-webkit-transition:-webkit-transform all 1s ease}.loading-overlay[data-v-369b7310]{content:"";position:fixed;top:0;left:0;right:0;bottom:0;z-index:5;opacity:1;background:rgba(0,0,0,.5);transition:all .6s}.dialog-active[fail=true] .close[data-v-369b7310]{display:none}.borNone[data-v-369b7310]{border:none!important}.dialog-active[close=false] .close[data-v-369b7310]{opacity:0;right:-133.333333rem}.dialog-active[defaultlock=true] .close[data-v-369b7310]{display:none}.dialog-active[defaultlock=true] .dialog-content[data-v-369b7310]{border:none;padding:0;background:none}.dialog-active[noclose=true] .close[data-v-369b7310]{display:none}@keyframes slideInDown-data-v-369b7310{0%{opacity:.5;transform:translateY(-6.666667rem)}to{transform:translateY(0)}}.slideInDown[data-v-369b7310]{animation-duration:.2s;animation-fill-mode:both;animation-name:bounceIn-data-v-369b7310}@keyframes bounceIn-data-v-369b7310{0%{opacity:0;transform:scale(.3)}to{opacity:1;transform:scale(1)}}',""])},536:function(e,t,i){var a=i(535);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(474)("425b9258",a,!0,{})},537:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isActive?i("div",{staticClass:"dialogs",class:{"dialog-active":e.isActive}},[i("div",{staticClass:"dialog"},[i("div",{class:["dialog-content",{slideInDown:e.isActive}]},[i("div",{staticClass:"diaplg-border"},[e.dialogClose?i("div",{staticClass:"close rotate",on:{click:function(t){t.preventDefault(),e.close(t)}}},[i("span",{staticClass:"iconfont icon-close redCR"})]):e._e(),e._t("dialog-header"),e._t("dialog-body"),e._t("dialog-footer")],2)])]),e.isActive?i("div",{staticClass:"dialogMask",on:{click:function(t){t.preventDefault(),e.closeDefault(t)}}}):e._e()]):e._e()},staticRenderFns:[]}}});